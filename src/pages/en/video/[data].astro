---
import PIPVideo from '@/components/PIPVideo.astro';
import Layout from '@/layouts/Layout.astro';
// SSR
export const prerender = false;

const { data = "" } = Astro.params;
let video = "";

try {
	const { vid } = JSON.parse(
		atob(data)
	);
	video = vid;
} catch (error) {
	Astro.redirect("/");
}

---

<Layout>
	<div class="container">
		<PIPVideo videoID={video} />
	</div>
</Layout>

<style>
	.container{
		width: 100%;
		height: 100%;
		max-width: 720px;
		margin: .1rem auto;
		padding: 0;
	}
</style>
